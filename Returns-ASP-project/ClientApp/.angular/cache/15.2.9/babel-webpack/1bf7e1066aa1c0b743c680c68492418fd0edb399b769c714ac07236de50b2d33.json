{"ast":null,"code":"var _class;\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../api/services\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../app.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@ng-bootstrap/ng-bootstrap\";\nfunction AddNewComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.custIdFromTemplate);\n  }\n}\nfunction AddNewComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Customer is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtemplate(1, AddNewComponent_div_11_div_1_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.getCustomer.errors == null ? null : ctx_r1.getCustomer.errors[\"required\"]);\n  }\n}\nfunction AddNewComponent_div_23_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Product is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtemplate(1, AddNewComponent_div_23_div_1_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.getProduct.errors == null ? null : ctx_r3.getProduct.errors[\"required\"]);\n  }\n}\nfunction AddNewComponent_div_55_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Owner is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtemplate(1, AddNewComponent_div_55_div_1_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.getOwner.errors == null ? null : ctx_r7.getOwner.errors[\"required\"]);\n  }\n}\nfunction AddNewComponent_div_67_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Fault is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtemplate(1, AddNewComponent_div_67_div_1_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.getFault.errors == null ? null : ctx_r9.getFault.errors[\"required\"]);\n  }\n}\nfunction AddNewComponent_div_77_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Document Number is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_div_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtemplate(1, AddNewComponent_div_77_div_1_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.getDocNo.errors == null ? null : ctx_r11.getDocNo.errors[\"required\"]);\n  }\n}\nfunction AddNewComponent_div_82_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Document Date is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_div_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵtemplate(1, AddNewComponent_div_82_div_1_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.getDocDate.errors == null ? null : ctx_r12.getDocDate.errors[\"required\"]);\n  }\n}\nfunction AddNewComponent_option_90_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 42);\n    i0.ɵɵtext(1, \"Resolved\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_option_91_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1, \"Investigate\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_option_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 43);\n    i0.ɵɵtext(1, \"Investigate\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_option_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 42);\n    i0.ɵɵtext(1, \"Resolved\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddNewComponent_div_99_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r17.formInvalid, \" \");\n  }\n}\nconst _c0 = function () {\n  return [\"/customer-detail\"];\n};\nconst _c1 = function () {\n  return [\"/product-detail\"];\n};\nconst _c2 = function () {\n  return [\"/owner-detail\"];\n};\nconst _c3 = function () {\n  return [\"/fault-detail\"];\n};\nconst _c4 = function () {\n  return [\"/\"];\n};\nexport class AddNewComponent {\n  constructor(fb, returnService, router, appService) {\n    this.fb = fb;\n    this.returnService = returnService;\n    this.router = router;\n    this.appService = appService;\n    this.batchDateToggle = false;\n    this.customer = {};\n    this.product = {};\n    this.fault = {};\n    this.owner = {};\n    this.custIdFromTemplate = '';\n    this.prodIdFromTemplate = '';\n    this.faultIdFromTemplate = '';\n    this.ownerIdFromTemplate = '';\n    this.customerList = [];\n    this.productList = [];\n    this.faultList = [];\n    this.ownerList = [];\n    this.form = this.fb.group({\n      customer: ['', Validators.required],\n      product: ['', Validators.required],\n      qtyOnDoc: [0],\n      qtyReturned: [0],\n      batchDate: [],\n      owner: [''],\n      fault: [''],\n      docNo: ['', Validators.required],\n      docDate: [, Validators.required],\n      resolved: [],\n      comment: ['']\n    });\n    this.showToast = false;\n    this.message = 'Something went wrong';\n    this.custFormatter = customer => customer.customerName;\n    this.prodFormatter = product => product.productName;\n    this.faultFormatter = fault => fault.name;\n    this.ownerFormatter = owner => owner.firstName;\n    //Gets all customers for searchbox\n    this.searchCust = text$ => {\n      this.customerService.searchCustomer().subscribe(c => this.customerList = c, this.handleError);\n      return text$.pipe(debounceTime(200), distinctUntilChanged(), filter(term => term.length >= 2), map(term => this.customerList.filter(customer => new RegExp(term, 'mi').test(customer.customerName)).slice(0, 10)));\n    };\n    //Gets all products for searchbox\n    this.searchProd = text$ => {\n      this.productService.searchProduct().subscribe(p => this.productList = p, this.handleError);\n      return text$.pipe(debounceTime(200), distinctUntilChanged(), filter(term => term.length >= 2), map(term => this.productList.filter(product => new RegExp(term, 'mi').test(product.productName)).slice(0, 10)));\n    };\n    //Gets all faults for searchbox\n    this.searchFault = text$ => {\n      this.faultService.searchFault().subscribe(f => this.faultList = f, this.handleError);\n      return text$.pipe(debounceTime(200), distinctUntilChanged(), filter(term => term.length >= 2), map(term => this.faultList.filter(fault => new RegExp(term, 'mi').test(fault.name)).slice(0, 10)));\n    };\n    //Gets all owners for searchbox\n    this.searchOwner = text$ => {\n      this.ownerService.searchOwner().subscribe(o => this.ownerList = o, this.handleError);\n      return text$.pipe(debounceTime(200), distinctUntilChanged(), filter(term => term.length >= 2), map(term => this.ownerList.filter(owner => new RegExp(term, 'mi').test(owner.firstName)).slice(0, 10)));\n    };\n    this.handleError = err => {\n      if (err.status == 404) {\n        this.router.navigate(['/search-returns']);\n      }\n      console.log(\"Response Error. Status: \", err.status);\n      console.log(\"Response Error. Status: \", err.statusText);\n      console.log(err);\n    };\n  }\n  ngOnInit() {}\n  toggleBatch() {\n    this.batchDateToggle = !this.batchDateToggle;\n  }\n  save() {\n    if (this.form.invalid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n    this.message = 'Return Saved';\n    this.showToast = true;\n    const createdReturn = {\n      docDate: this.form.get('docDate')?.value,\n      customerId: this.form.get('customer')?.value,\n      productId: this.form.get('product')?.value,\n      qtyOnDoc: this.form.get('qtyOnDoc')?.value,\n      batchDate: this.form.get('batchDate')?.value,\n      ownerId: this.form.get('owner')?.value,\n      faultId: this.form.get('fault')?.value,\n      docNo: this.form.get('docNo')?.value,\n      qtyReturned: this.form.get('qtyReturned')?.value,\n      resolved: JSON.parse(this.form.controls.resolved.value),\n      comment: this.form.get('comment')?.value\n    };\n    this.returnService.createReturnReturn({\n      body: createdReturn\n    }).subscribe(_ => {\n      this.appService.setMessage(this.message);\n      this.appService.showToast(this.showToast);\n    }, this.handleError);\n    this.router.navigate(['/search-returns']);\n  }\n  get getCustomer() {\n    return this.form.controls.customer;\n  }\n  get getProduct() {\n    return this.form.controls.product;\n  }\n  get getDocDate() {\n    return this.form.controls.docDate;\n  }\n  get getDocNo() {\n    return this.form.controls.docNo;\n  }\n}\n_class = AddNewComponent;\n_class.ɵfac = function AddNewComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ReturnService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AppService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-add-new\"]],\n  decls: 108,\n  vars: 60,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [1, \"center\", \"shadow-custom\", \"mb-3\"], [1, \"container\"], [1, \"row\"], [1, \"mb-3\", \"col-12\"], [1, \"form-label\"], [\"class\", \"invalid-feedback d-block\", 4, \"ngIf\"], [1, \"input-group\"], [\"type\", \"text\", \"formcontrolName\", \"getCustomer\", 1, \"form-control\", 3, \"ngbTypeahead\", \"inputFormatter\", \"resultFormatter\", \"editable\", \"value\", \"blur\"], [\"customerValue\", \"\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", 3, \"routerLink\"], [\"type\", \"text\", \"formcontrolName\", \"product\", 1, \"form-control\", 3, \"ngbTypeahead\", \"inputFormatter\", \"resultFormatter\", \"editable\", \"value\", \"blur\"], [\"prodValue\", \"\"], [1, \"mb-3\", \"col-6\"], [\"formControlName\", \"qtyOnDoc\", \"type\", \"number\", \"min\", \"0\", 1, \"form-control\", 3, \"value\"], [\"formControlName\", \"qtyReturned\", \"type\", \"number\", \"min\", \"0\", 1, \"form-control\", 3, \"value\"], [1, \"col-12\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-text\"], [1, \"me-3\"], [\"type\", \"checkbox\", 1, \"form-check-input\", \"mt-0\", 3, \"checked\", \"change\"], [\"batchChecked\", \"\"], [\"formControlName\", \"batchDate\", \"type\", \"date\", 1, \"form-control\", 3, \"readonly\", \"value\"], [\"batchDateBox\", \"\"], [\"type\", \"text\", \"formcontrolName\", \"owner\", 1, \"form-control\", 3, \"ngbTypeahead\", \"inputFormatter\", \"resultFormatter\", \"editable\", \"value\", \"blur\"], [\"ownerValue\", \"\"], [\"type\", \"text\", \"formcontrolName\", \"fault\", 1, \"form-control\", 3, \"ngbTypeahead\", \"inputFormatter\", \"resultFormatter\", \"editable\", \"value\", \"blur\"], [\"faultValue\", \"\"], [\"formControlName\", \"docNo\", \"type\", \"text\", 1, \"form-control\", 3, \"value\"], [\"formControlName\", \"docDate\", \"type\", \"date\", 1, \"form-control\", 3, \"value\"], [\"formControlName\", \"resolved\", 1, \"form-select\"], [\"value\", \"true\", 4, \"ngIf\"], [\"value\", \"false\", 4, \"ngIf\"], [\"formControlName\", \"comment\", \"rows\", \"3\", \"maxlength\", \"255\", 1, \"form-control\"], [\"class\", \"invalid-feedback d-block mb-3\", 4, \"ngIf\"], [1, \"col-md-12\", \"mb-3\"], [\"type\", \"button\", 1, \"btn-outline-danger\", \"btn\", \"col-6\", 3, \"routerLink\"], [1, \"fa\", \"fa-cancel\"], [\"type\", \"submit\", 1, \"btn-outline-success\", \"btn\", \"col-6\"], [1, \"fa\", \"fa-save\"], [1, \"invalid-feedback\", \"d-block\"], [4, \"ngIf\"], [\"value\", \"true\"], [\"value\", \"false\"], [1, \"invalid-feedback\", \"d-block\", \"mb-3\"]],\n  template: function AddNewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r24 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Edit\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"hr\");\n      i0.ɵɵelementStart(3, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function AddNewComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵelementStart(4, \"div\", 1)(5, \"div\", 2)(6, \"div\", 3)(7, \"div\", 4)(8, \"label\", 5);\n      i0.ɵɵtext(9, \"Customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, AddNewComponent_div_10_Template, 2, 1, \"div\", 6);\n      i0.ɵɵtemplate(11, AddNewComponent_div_11_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"input\", 8, 9);\n      i0.ɵɵlistener(\"blur\", function AddNewComponent_Template_input_blur_13_listener() {\n        i0.ɵɵrestoreView(_r24);\n        const _r2 = i0.ɵɵreference(14);\n        return i0.ɵɵresetView(ctx.getModel(_r2.value, \"customerType\"));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 10);\n      i0.ɵɵtext(16, \"+\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"div\", 4)(19, \"label\", 5);\n      i0.ɵɵtext(20, \"Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"p\");\n      i0.ɵɵtext(22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(23, AddNewComponent_div_23_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementStart(24, \"div\", 7)(25, \"input\", 11, 12);\n      i0.ɵɵlistener(\"blur\", function AddNewComponent_Template_input_blur_25_listener() {\n        i0.ɵɵrestoreView(_r24);\n        const _r4 = i0.ɵɵreference(26);\n        return i0.ɵɵresetView(ctx.getModel(_r4.value, \"productType\"));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"button\", 10);\n      i0.ɵɵtext(28, \"+\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(29, \"div\", 3)(30, \"div\", 13)(31, \"label\", 5);\n      i0.ɵɵtext(32, \"Qty on Document\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 13)(35, \"label\", 5);\n      i0.ɵɵtext(36, \"Qty Returned\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(37, \"input\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 3)(39, \"div\", 16)(40, \"div\", 17)(41, \"div\", 18)(42, \"span\", 19);\n      i0.ɵɵtext(43, \"No Batch Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"input\", 20, 21);\n      i0.ɵɵlistener(\"change\", function AddNewComponent_Template_input_change_44_listener() {\n        return ctx.toggleBatch();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(46, \"input\", 22, 23);\n      i0.ɵɵpipe(48, \"date\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(49, \"div\", 3)(50, \"div\", 4)(51, \"label\", 5);\n      i0.ɵɵtext(52, \"Owner\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"p\");\n      i0.ɵɵtext(54);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(55, AddNewComponent_div_55_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementStart(56, \"div\", 7)(57, \"input\", 24, 25);\n      i0.ɵɵlistener(\"blur\", function AddNewComponent_Template_input_blur_57_listener() {\n        i0.ɵɵrestoreView(_r24);\n        const _r8 = i0.ɵɵreference(58);\n        return i0.ɵɵresetView(ctx.getModel(_r8.value, \"ownerType\"));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"button\", 10);\n      i0.ɵɵtext(60, \"+\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(61, \"div\", 3)(62, \"div\", 4)(63, \"label\", 5);\n      i0.ɵɵtext(64, \"Fault\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(65, \"p\");\n      i0.ɵɵtext(66);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(67, AddNewComponent_div_67_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementStart(68, \"div\", 7)(69, \"input\", 26, 27);\n      i0.ɵɵlistener(\"blur\", function AddNewComponent_Template_input_blur_69_listener() {\n        i0.ɵɵrestoreView(_r24);\n        const _r10 = i0.ɵɵreference(70);\n        return i0.ɵɵresetView(ctx.getModel(_r10.value, \"faultType\"));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(71, \"button\", 10);\n      i0.ɵɵtext(72, \"+\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(73, \"div\", 3)(74, \"div\", 13)(75, \"label\", 5);\n      i0.ɵɵtext(76, \"External Document No.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(77, AddNewComponent_div_77_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelement(78, \"input\", 28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(79, \"div\", 13)(80, \"label\", 5);\n      i0.ɵɵtext(81, \"Document Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(82, AddNewComponent_div_82_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelement(83, \"input\", 29);\n      i0.ɵɵpipe(84, \"date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(85, \"div\", 3)(86, \"div\", 13)(87, \"label\", 5);\n      i0.ɵɵtext(88, \"Investigate / Resolved\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(89, \"select\", 30);\n      i0.ɵɵtemplate(90, AddNewComponent_option_90_Template, 2, 0, \"option\", 31);\n      i0.ɵɵtemplate(91, AddNewComponent_option_91_Template, 2, 0, \"option\", 32);\n      i0.ɵɵtemplate(92, AddNewComponent_option_92_Template, 2, 0, \"option\", 32);\n      i0.ɵɵtemplate(93, AddNewComponent_option_93_Template, 2, 0, \"option\", 31);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(94, \"div\", 4)(95, \"label\", 5);\n      i0.ɵɵtext(96, \"Comment\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(97, \"textarea\", 33);\n      i0.ɵɵtext(98);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(99, AddNewComponent_div_99_Template, 2, 1, \"div\", 34);\n      i0.ɵɵelementStart(100, \"div\", 3)(101, \"div\", 35)(102, \"button\", 36);\n      i0.ɵɵelement(103, \"i\", 37);\n      i0.ɵɵtext(104, \" Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(105, \"button\", 38);\n      i0.ɵɵelement(106, \"i\", 39);\n      i0.ɵɵtext(107, \" Save\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      const _r5 = i0.ɵɵreference(45);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.custIdFromTemplate == \"Not Found\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getCustomer.invalid && (ctx.getCustomer.touched || ctx.getCustomer.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.customer.customerName);\n      i0.ɵɵproperty(\"ngbTypeahead\", ctx.searchCust)(\"inputFormatter\", ctx.custFormatter)(\"resultFormatter\", ctx.custFormatter)(\"editable\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(55, _c0));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.prodIdFromTemplate);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getProduct.invalid && (ctx.getProduct.touched || ctx.getProduct.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.product.productName);\n      i0.ɵɵproperty(\"ngbTypeahead\", ctx.searchProd)(\"inputFormatter\", ctx.prodFormatter)(\"resultFormatter\", ctx.prodFormatter)(\"editable\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(56, _c1));\n      i0.ɵɵadvance(6);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.return.qtyOnDoc);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.return.qtyReturned);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"checked\", ctx.return.batchDate == null ? true : false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"readonly\", _r5.checked == true ? true : false)(\"value\", i0.ɵɵpipeBind2(48, 49, ctx.return.batchDate, \"yyyy-MM-dd\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.ownerIdFromTemplate);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getOwner.invalid && (ctx.getOwner.touched || ctx.getOwner.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.owner.firstName);\n      i0.ɵɵproperty(\"ngbTypeahead\", ctx.searchOwner)(\"inputFormatter\", ctx.ownerFormatter)(\"resultFormatter\", ctx.ownerFormatter)(\"editable\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(57, _c2));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.faultIdFromTemplate);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.getFault.invalid && (ctx.getFault.touched || ctx.getFault.dirty));\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.fault.name);\n      i0.ɵɵproperty(\"ngbTypeahead\", ctx.searchFault)(\"inputFormatter\", ctx.faultFormatter)(\"resultFormatter\", ctx.faultFormatter)(\"editable\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(58, _c3));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.getDocNo.invalid && (ctx.getDocNo.touched || ctx.getDocNo.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.return.docNo);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.getDocDate.invalid && (ctx.getDocDate.touched || ctx.getDocDate.dirty));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind2(84, 52, ctx.return.docDate, \"yyyy-MM-dd\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.return.resolved == true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.return.resolved == false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.return.resolved == true);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.return.resolved == false);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.return.comment);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.formInvalid.length > 0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(59, _c4));\n    }\n  },\n  dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.MinValidator, i1.FormGroupDirective, i1.FormControlName, i3.RouterLink, i6.NgbTypeahead, i5.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","i0","AddNewComponent","constructor","fb","returnService","router","appService","group","customer","required","product","qtyOnDoc","qtyReturned","batchDate","owner","fault","docNo","docDate","resolved","comment","customerName","productName","name","firstName","text$","customerService","searchCustomer","subscribe","c","customerList","handleError","pipe","debounceTime","distinctUntilChanged","filter","term","length","map","RegExp","test","slice","productService","searchProduct","p","productList","faultService","searchFault","f","faultList","ownerService","searchOwner","o","ownerList","err","status","navigate","console","log","statusText","ngOnInit","toggleBatch","batchDateToggle","save","form","invalid","markAllAsTouched","message","showToast","createdReturn","get","value","customerId","productId","ownerId","faultId","JSON","parse","controls","createReturnReturn","body","_","setMessage","getCustomer","getProduct","getDocDate","getDocNo","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Rowan\\source\\repos\\Returns-ASP-project\\Returns-ASP-project\\ClientApp\\src\\app\\add-new\\add-new.component.ts","C:\\Users\\Rowan\\source\\repos\\Returns-ASP-project\\Returns-ASP-project\\ClientApp\\src\\app\\add-new\\add-new.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { CustomerRm, FaultRm, OwnerRm, ProductRm, ReturnDto, ReturnRm } from '../api/models';\r\nimport { ReturnService } from '../api/services';\r\nimport { AppService } from '../app.service';\r\n\n@Component({\n  selector: 'app-add-new',\n  templateUrl: './add-new.component.html',\n  styleUrls: ['./add-new.component.css']\n})\nexport class AddNewComponent implements OnInit {\n\n  batchDateToggle = false;\n\n  constructor(private fb: FormBuilder, private returnService: ReturnService, private router: Router, private appService: AppService) { }\n\n  customer: CustomerRm = {}\r\n  product: ProductRm = {}\r\n  fault: FaultRm = {}\r\n  owner: OwnerRm = {}\r\n  custIdFromTemplate = ''\r\n  prodIdFromTemplate = ''\r\n  faultIdFromTemplate = ''\r\n  ownerIdFromTemplate = ''\r\n\r\n  customerList: CustomerRm[] = []\r\n  productList: ProductRm[] = []\r\n  faultList: FaultRm[] = []\r\n  ownerList: OwnerRm[] = []\n\n\n  ngOnInit(): void {\n  }\n\n  form = this.fb.group({\r\n    customer: ['', Validators.required],\r\n    product: ['', Validators.required],\r\n    qtyOnDoc: [0],\r\n    qtyReturned: [0],\r\n    batchDate: [],\r\n    owner: [''],\r\n    fault: [''],\r\n    docNo: ['', Validators.required],\r\n    docDate: [,Validators.required],\r\n    resolved: [],\r\n    comment: ['']\r\n  })\r\n\r\n  showToast = false;\r\n  message = 'Something went wrong'\r\n\n  custFormatter = (customer: CustomerRm) => customer.customerName!\r\n  prodFormatter = (product: ProductRm) => product.productName!\r\n  faultFormatter = (fault: FaultRm) => fault.name!\r\n  ownerFormatter = (owner: OwnerRm) => owner.firstName!\r\n\r\n  //Gets all customers for searchbox\r\n  searchCust: OperatorFunction<string, readonly { id?: string | undefined | null; name?: string | undefined | null }[]> = (text$: Observable<string>) => {\r\n    this.customerService.searchCustomer().subscribe(c => this.customerList = c, this.handleError)\r\n\r\n    return text$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      filter((term) => term.length >= 2),\r\n      map((term) => this.customerList.filter((customer) => new RegExp(term, 'mi').test(customer.customerName!)).slice(0, 10))\r\n    );\r\n  }\r\n\r\n  //Gets all products for searchbox\r\n  searchProd: OperatorFunction<string, readonly { id?: string | undefined | null; name?: string | undefined | null }[]> = (text$: Observable<string>) => {\r\n    this.productService.searchProduct().subscribe(p => this.productList = p, this.handleError)\r\n\r\n    return text$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      filter((term) => term.length >= 2),\r\n      map((term) => this.productList.filter((product) => new RegExp(term, 'mi').test(product.productName!)).slice(0, 10))\r\n    );\r\n  }\r\n\r\n  //Gets all faults for searchbox\r\n  searchFault: OperatorFunction<string, readonly { id?: string | undefined | null; name?: string | undefined | null }[]> = (text$: Observable<string>) => {\r\n    this.faultService.searchFault().subscribe(f => this.faultList = f, this.handleError)\r\n\r\n    return text$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      filter((term) => term.length >= 2),\r\n      map((term) => this.faultList.filter((fault) => new RegExp(term, 'mi').test(fault.name!)).slice(0, 10))\r\n    );\r\n  }\r\n\r\n  //Gets all owners for searchbox\r\n  searchOwner: OperatorFunction<string, readonly { id?: string | undefined | null; name?: string | undefined | null }[]> = (text$: Observable<string>) => {\r\n    this.ownerService.searchOwner().subscribe(o => this.ownerList = o, this.handleError)\r\n\r\n    return text$.pipe(\r\n      debounceTime(200),\r\n      distinctUntilChanged(),\r\n      filter((term) => term.length >= 2),\r\n      map((term) => this.ownerList.filter((owner) => new RegExp(term, 'mi').test(owner.firstName!)).slice(0, 10))\r\n    );\r\n  }\r\n\r\n\n\n  toggleBatch() {\n    this.batchDateToggle = !this.batchDateToggle;\r\n  }\n\n  save() {\r\n    if (this.form.invalid) {\r\n      this.form.markAllAsTouched()\r\n      return\r\n    }\r\n\r\n    this.message = 'Return Saved'\r\n    this.showToast = true\r\n\r\n    const createdReturn: ReturnDto = {\r\n      docDate: this.form.get('docDate')?.value!,\r\n      customerId: this.form.get('customer')?.value!,\r\n      productId: this.form.get('product')?.value!,\r\n      qtyOnDoc: this.form.get('qtyOnDoc')?.value!,\r\n      batchDate: this.form.get('batchDate')?.value!,\r\n      ownerId: this.form.get('owner')?.value!,\r\n      faultId: this.form.get('fault')?.value!,\r\n      docNo: this.form.get('docNo')?.value!,\r\n      qtyReturned: this.form.get('qtyReturned')?.value!,\r\n      resolved: JSON.parse(this.form.controls.resolved.value!),\r\n      comment: this.form.get('comment')?.value!\r\n    }\r\n\r\n\r\n\r\n    this.returnService.createReturnReturn({ body: createdReturn }).subscribe(_ => { this.appService.setMessage(this.message); this.appService.showToast(this.showToast) }, this.handleError)\r\n    this.router.navigate(['/search-returns'])\r\n  }\n\n  private handleError = (err: any) => {\r\n\r\n    if (err.status == 404) {\r\n      this.router.navigate(['/search-returns'])\r\n    }\r\n\r\n    console.log(\"Response Error. Status: \", err.status)\r\n    console.log(\"Response Error. Status: \", err.statusText)\r\n    console.log(err);\r\n  }\n\n  get getCustomer() {\r\n    return this.form.controls.customer\r\n  }\r\n\r\n  get getProduct() {\r\n    return this.form.controls.product\r\n  }\n\n  get getDocDate() {\n    return this.form.controls.docDate\r\n  }\n\n  get getDocNo() {\n    return this.form.controls.docNo\r\n  }\n\n}\n\n","<h2>Edit</h2>\r\n<hr />\r\n\r\n<form [formGroup]=\"form\" (ngSubmit)=\"save()\">\r\n  <div class=\"center shadow-custom mb-3\">\r\n    <div class=\"container\">\r\n\r\n      <div class=\"row\">\r\n        <div class=\"mb-3 col-12\">\r\n          <label class=\"form-label\">Customer</label>\r\n          <div *ngIf=\"custIdFromTemplate == 'Not Found'\" class=\"invalid-feedback d-block\">{{custIdFromTemplate}}</div>\r\n          <div *ngIf=\"getCustomer.invalid && (getCustomer.touched || getCustomer.dirty)\" class=\"invalid-feedback d-block\">\r\n            <div *ngIf=\"getCustomer.errors?.['required']\">Customer is required</div>\r\n          </div>\r\n          <div class=\"input-group\">\r\n            <input #customerValue\r\n                   type=\"text\"\r\n                   class=\"form-control\"\r\n                   [ngbTypeahead]=\"searchCust\"\r\n                   [inputFormatter]=\"custFormatter\"\r\n                   [resultFormatter]=\"custFormatter\"\r\n                   [editable]=\"true\"\r\n                   formcontrolName=\"getCustomer\"\r\n                   value=\"{{customer.customerName}}\"\r\n                   (blur)=\"getModel(customerValue.value, 'customerType')\" />\r\n            <button class=\"btn btn-outline-secondary\" [routerLink]=\"['/customer-detail']\" type=\"button\">+</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"mb-3 col-12\">\r\n          <label class=\"form-label\">Product</label>\r\n          <p>{{prodIdFromTemplate}}</p>\r\n          <div *ngIf=\"getProduct.invalid && (getProduct.touched || getProduct.dirty)\" class=\"invalid-feedback d-block\">\r\n            <div *ngIf=\"getProduct.errors?.['required']\">Product is required</div>\r\n          </div>\r\n          <div class=\"input-group\">\r\n            <input #prodValue\r\n                   type=\"text\"\r\n                   class=\"form-control\"\r\n                   [ngbTypeahead]=\"searchProd\"\r\n                   [inputFormatter]=\"prodFormatter\"\r\n                   [resultFormatter]=\"prodFormatter\"\r\n                   [editable]=\"false\"\r\n                   formcontrolName=\"product\"\r\n                   value=\"{{product.productName}}\"\r\n                   (blur)=\"getModel(prodValue.value, 'productType')\" />\r\n            <button class=\"btn btn-outline-secondary\" [routerLink]=\"['/product-detail']\" type=\"button\">+</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div class=\"row\">\r\n        <div class=\"mb-3 col-6\">\r\n          <label class=\"form-label\">Qty on Document</label>\r\n          <input formControlName=\"qtyOnDoc\" type=\"number\" min=\"0\" class=\"form-control\" value=\"{{return.qtyOnDoc}}\">\r\n        </div>\r\n\r\n        <div class=\"mb-3 col-6\">\r\n          <label class=\"form-label\">Qty Returned</label>\r\n          <input formControlName=\"qtyReturned\" type=\"number\" min=\"0\" class=\"form-control\" value=\"{{return.qtyReturned}}\">\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"input-group mb-3\">\r\n            <div class=\"input-group-text\">\r\n              <span class=\"me-3\">No Batch Date</span>\r\n              <input class=\"form-check-input mt-0\" type=\"checkbox\" #batchChecked (change)=\"toggleBatch()\" [checked]=\"return.batchDate == null ? true : false\">\r\n            </div>\r\n            <input formControlName=\"batchDate\" type=\"date\" #batchDateBox [readonly]=\"batchChecked.checked == true ? true : false\" class=\"form-control\" [value]=\"return.batchDate | date:'yyyy-MM-dd'\">\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"mb-3 col-12\">\r\n          <label class=\"form-label\">Owner</label>\r\n          <p>{{ownerIdFromTemplate}}</p>\r\n          <div *ngIf=\"getOwner.invalid && (getOwner.touched || getOwner.dirty)\" class=\"invalid-feedback d-block\">\r\n            <div *ngIf=\"getOwner.errors?.['required']\">Owner is required</div>\r\n          </div>\r\n          <div class=\"input-group\">\r\n            <input #ownerValue\r\n                   type=\"text\"\r\n                   class=\"form-control\"\r\n                   [ngbTypeahead]=\"searchOwner\"\r\n                   [inputFormatter]=\"ownerFormatter\"\r\n                   [resultFormatter]=\"ownerFormatter\"\r\n                   [editable]=\"false\"\r\n                   formcontrolName=\"owner\"\r\n                   value=\"{{owner.firstName}}\"\r\n                   (blur)=\"getModel(ownerValue.value, 'ownerType')\" />\r\n            <button class=\"btn btn-outline-secondary\" [routerLink]=\"['/owner-detail']\" type=\"button\">+</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"mb-3 col-12\">\r\n          <label class=\"form-label\">Fault</label>\r\n          <p>{{faultIdFromTemplate}}</p>\r\n          <div *ngIf=\"getFault.invalid && (getFault.touched || getFault.dirty)\" class=\"invalid-feedback d-block\">\r\n            <div *ngIf=\"getFault.errors?.['required']\">Fault is required</div>\r\n          </div>\r\n          <div class=\"input-group\">\r\n            <input #faultValue\r\n                   type=\"text\"\r\n                   class=\"form-control\"\r\n                   [ngbTypeahead]=\"searchFault\"\r\n                   [inputFormatter]=\"faultFormatter\"\r\n                   [resultFormatter]=\"faultFormatter\"\r\n                   [editable]=\"false\"\r\n                   formcontrolName=\"fault\"\r\n                   value=\"{{fault.name}}\"\r\n                   (blur)=\"getModel(faultValue.value, 'faultType')\" />\r\n            <button class=\"btn btn-outline-secondary\" [routerLink]=\"['/fault-detail']\" type=\"button\">+</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div class=\"row\">\r\n        <div class=\"mb-3 col-6\">\r\n          <label class=\"form-label\">External Document No.</label>\r\n          <div *ngIf=\"getDocNo.invalid && (getDocNo.touched || getDocNo.dirty)\" class=\"invalid-feedback d-block\">\r\n            <div *ngIf=\"getDocNo.errors?.['required']\">Document Number is required</div>\r\n          </div>\r\n          <input formControlName=\"docNo\" type=\"text\" class=\"form-control\" value=\"{{return.docNo}}\">\r\n        </div>\r\n\r\n        <div class=\"mb-3 col-6\">\r\n          <label class=\"form-label\">Document Date</label>\r\n          <div *ngIf=\"getDocDate.invalid && (getDocDate.touched || getDocDate.dirty)\" class=\"invalid-feedback d-block\">\r\n            <div *ngIf=\"getDocDate.errors?.['required']\">Document Date is required</div>\r\n          </div>\r\n          <input formControlName=\"docDate\" type=\"date\" class=\"form-control\" [value]=\"return.docDate | date:'yyyy-MM-dd'\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"mb-3 col-6\">\r\n          <label class=\"form-label\">Investigate / Resolved</label>\r\n          <select formControlName=\"resolved\" class=\"form-select\">\r\n            <option *ngIf=\"return.resolved == true\" value=true>Resolved</option>\r\n            <option *ngIf=\"return.resolved == false\" value=false>Investigate</option>\r\n            <option *ngIf=\"return.resolved == true\" value=false>Investigate</option>\r\n            <option *ngIf=\"return.resolved == false\" value=true>Resolved</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mb-3 col-12\">\r\n        <label class=\"form-label\">Comment</label>\r\n        <textarea formControlName=\"comment\" class=\"form-control\" rows=\"3\" maxlength=\"255\">{{return.comment}}</textarea>\r\n      </div>\r\n\r\n      <div class=\"invalid-feedback d-block mb-3\" *ngIf=\"formInvalid.length > 0\">\r\n        {{formInvalid}}\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 mb-3\">\r\n          <button type=\"button\" [routerLink]=\"['/']\" class=\"btn-outline-danger btn col-6\"><i class=\"fa fa-cancel\"></i> Cancel</button>\r\n          <button type=\"submit\" class=\"btn-outline-success btn col-6\"><i class=\"fa fa-save\"></i> Save</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}